# 1. MODULE IDENTIFICATION

**Module Name:** Course Catalog
**Module Number:** 07.1
**Module Type:** Master
**Target File:** HR/07.Learning/07.1 Course Catalog.md
**Created Date:** December 29, 2025
**Version:** 1.0
**Author:** HR System Architect

--- END OF SECTION 1 ---

## 2. PURPOSE

### 2.1 Business Purpose
The Course Catalog module provides a comprehensive system for managing organizational learning content and training resources. It enables HR departments to create, organize, and deliver a diverse range of courses while supporting employee development, compliance training, and skill enhancement initiatives through centralized course management and accessibility.

### 2.2 Business Scope
**In Scope:**
- Course creation and content management
- Course categorization and tagging
- Learning path and curriculum design
- Instructor and facilitator management
- Course scheduling and session planning
- Multi-format content support (video, documents, SCORM, xAPI)
- Course prerequisites and requirements
- Competency and skill mapping
- Compliance and certification tracking
- Course enrollment and capacity management
- Learning analytics and reporting
- Mobile learning access
- Integration with LMS platforms
- Course evaluation and feedback
- Budget and cost tracking
- External content provider integration

**Out of Scope:**
- Employee enrollment management (handled in Enrollment module)
- Completion tracking and certification (handled in Completion Tracking module)
- Assessment and testing functionality
- Advanced learning analytics and AI recommendations

### 2.3 Key Stakeholders
- **HR Department:** Course catalog management and administration
- **Training Managers:** Course creation and delivery coordination
- **Instructors:** Course content delivery and facilitation
- **Employees:** Course discovery and learning access
- **Department Heads:** Training needs assessment and budgeting
- **Compliance Officers:** Regulatory training management

--- END OF SECTION 2 ---

## 3. CORE MODELS (DJANGO)

### 3.1 Primary Model: Course

```python
class Course(models.Model):
    """
    Main course model for learning management
    """
    
    # Primary Key
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    
    # Foreign Keys
    company_id = models.UUIDField()
    created_by_user_id = models.UUIDField()
    updated_by_user_id = models.UUIDField()
    
    # Course Details
    course_code = models.CharField(max_length=50)
    course_name = models.CharField(max_length=200)
    course_description = models.TextField()
    short_description = models.CharField(max_length=500, blank=True)
    
    # Course Classification
    course_type = models.CharField(max_length=50, choices=[
        ('instructor_led', 'Instructor-Led'),
        ('self_paced', 'Self-Paced'),
        ('blended', 'Blended'),
        ('virtual', 'Virtual'),
        ('online', 'Online'),
        ('classroom', 'Classroom'),
        ('elearning', 'E-Learning'),
        ('webinar', 'Webinar'),
        ('workshop', 'Workshop'),
        ('seminar', 'Seminar'),
    ])
    
    course_category = models.CharField(max_length=100, choices=[
        ('leadership', 'Leadership'),
        ('management', 'Management'),
        ('technical', 'Technical Skills'),
        ('soft_skills', 'Soft Skills'),
        ('compliance', 'Compliance'),
        ('safety', 'Safety'),
        ('onboarding', 'Onboarding'),
        ('product', 'Product Training'),
        ('sales', 'Sales Training'),
        ('customer_service', 'Customer Service'),
        ('communication', 'Communication'),
        ('diversity', 'Diversity & Inclusion'),
        ('wellness', 'Wellness'),
        ('other', 'Other'),
    ])
    
    # Course Content
    duration_hours = models.DecimalField(max_digits=6, decimal_places=2)
    difficulty_level = models.CharField(max_length=20, choices=[
        ('beginner', 'Beginner'),
        ('intermediate', 'Intermediate'),
        ('advanced', 'Advanced'),
        ('expert', 'Expert'),
    ])
    
    language = models.CharField(max_length=10, default='en')
    
    # Status and Availability
    status = models.CharField(max_length=20, choices=[
        ('draft', 'Draft'),
        ('active', 'Active'),
        ('inactive', 'Inactive'),
        ('archived', 'Archived'),
        ('under_review', 'Under Review'),
    ], default='draft')
    
    is_available = models.BooleanField(default=True)
    is_featured = models.BooleanField(default=False)
    is_mandatory = models.BooleanField(default=False)
    
    # Pricing and Budget
    cost_per_employee = models.DecimalField(max_digits=10, decimal_places=2, default=0)
    currency = models.CharField(max_length=10, default='USD')
    budget_code = models.CharField(max_length=50, blank=True)
    
    # Capacity and Enrollment
    max_capacity = models.IntegerField(null=True, blank=True)
    min_enrollment = models.IntegerField(default=1)
    current_enrollment = models.IntegerField(default=0)
    waitlist_enabled = models.BooleanField(default=False)
    
    # Prerequisites and Requirements
    prerequisites = models.JSONField(default=list, blank=True)
    target_audience = models.JSONField(default=list, blank=True)
    required_materials = models.JSONField(default=list, blank=True)
    
    # Learning Objectives
    learning_objectives = models.JSONField(default=list, blank=True)
    key_takeaways = models.JSONField(default=list, blank=True)
    
    # Competency Mapping
    competencies = models.JSONField(default=list, blank=True)
    skills = models.JSONField(default=list, blank=True)
    job_roles = models.JSONField(default=list, blank=True)
    
    # Schedule and Delivery
    delivery_method = models.JSONField(default=list, blank=True)
    schedule_type = models.CharField(max_length=50, choices=[
        ('fixed', 'Fixed Schedule'),
        ('flexible', 'Flexible Schedule'),
        ('on_demand', 'On Demand'),
        ('recurring', 'Recurring'),
    ])
    
    # Certification and Credits
    offers_certification = models.BooleanField(default=False)
    certification_details = models.TextField(blank=True)
    ceu_credits = models.DecimalField(max_digits=6, decimal_places=2, null=True, blank=True)
    
    # Evaluation and Feedback
    requires_evaluation = models.BooleanField(default=False)
    evaluation_method = models.CharField(max_length=100, blank=True)
    feedback_enabled = models.BooleanField(default=True)
    
    # Timeline
    created_date = models.DateTimeField(auto_now_add=True)
    last_updated = models.DateTimeField(auto_now=True)
    effective_date = models.DateField(null=True, blank=True)
    expiry_date = models.DateField(null=True, blank=True)
    
    # Metadata
    tags = models.JSONField(default=list, blank=True)
    keywords = models.JSONField(default=list, blank=True)
    
    class Meta:
        db_table = 'hr_courses'
        verbose_name = 'Course'
        verbose_name_plural = 'Courses'
        indexes = [
            models.Index(fields=['company_id', 'status'], name='idx_course_status'),
            models.Index(fields=['company_id', 'course_category'], name='idx_course_category'),
            models.Index(fields=['company_id', 'course_type'], name='idx_course_type'),
        ]
        constraints = [
            models.UniqueConstraint(fields=['company_id', 'course_code'], name='uk_course_code'),
        ]
```

### 3.2 Supporting Model: CourseContent

```python
class CourseContent(models.Model):
    """
    Course content and materials
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = models.UUIDField()
    course_id = models.UUIDField()
    
    # Content Details
    content_title = models.CharField(max_length=200)
    content_type = models.CharField(max_length=50, choices=[
        ('video', 'Video'),
        ('document', 'Document'),
        ('presentation', 'Presentation'),
        ('scorm', 'SCORM Package'),
        ('xapi', 'xAPI Content'),
        ('audio', 'Audio'),
        ('image', 'Image'),
        ('quiz', 'Quiz'),
        ('assignment', 'Assignment'),
        ('resource', 'Resource'),
        ('link', 'External Link'),
    ])
    
    # Content Information
    description = models.TextField(blank=True)
    file_url = models.URLField(blank=True)
    file_size = models.BigInteger(null=True, blank=True)
    file_type = models.CharField(max_length=100, blank=True)
    
    # Content Structure
    module_number = models.IntegerField(null=True, blank=True)
    lesson_number = models.IntegerField(null=True, blank=True)
    sort_order = models.IntegerField(default=0)
    
    # Duration and Progress
    duration_minutes = models.IntegerField(null=True, blank=True)
    is_required = models.BooleanField(default=True)
    is_downloadable = models.BooleanField(default=False)
    
    # Access Control
    access_level = models.CharField(max_length=50, choices=[
        ('public', 'Public'),
        ('enrolled', 'Enrolled Only'),
        ('prerequisite', 'After Prerequisite'),
        ('completion', 'After Completion'),
    ], default='enrolled')
    
    # Status
    status = models.CharField(max_length=20, choices=[
        ('draft', 'Draft'),
        ('active', 'Active'),
        ('inactive', 'Inactive'),
        ('archived', 'Archived'),
    ], default='draft')
    
    # Metadata
    tags = models.JSONField(default=list, blank=True)
    
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    class Meta:
        db_table = 'hr_course_contents'
        verbose_name = 'Course Content'
        verbose_name_plural = 'Course Contents'
        indexes = [
            models.Index(fields=['company_id', 'course_id'], name='idx_content_course'),
            models.Index(fields=['company_id', 'content_type'], name='idx_content_type'),
        ]
```

### 3.3 Supporting Model: CourseSession

```python
class CourseSession(models.Model):
    """
    Scheduled course sessions and classes
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = models.UUIDField()
    course_id = models.UUIDField()
    instructor_id = models.UUIDField(null=True, blank=True)
    
    # Session Details
    session_name = models.CharField(max_length=200)
    session_number = models.IntegerField()
    
    # Scheduling
    start_date = models.DateTimeField()
    end_date = models.DateTimeField()
    timezone = models.CharField(max_length=50, default='UTC')
    
    # Location
    location_type = models.CharField(max_length=50, choices=[
        ('classroom', 'Classroom'),
        ('virtual', 'Virtual'),
        ('online', 'Online'),
        ('onsite', 'On-site'),
        ('hybrid', 'Hybrid'),
    ])
    
    location_name = models.CharField(max_length=200, blank=True)
    location_address = models.TextField(blank=True)
    virtual_meeting_url = models.URLField(blank=True)
    meeting_id = models.CharField(max_length=100, blank=True)
    meeting_password = models.CharField(max_length=100, blank=True)
    
    # Capacity
    max_participants = models.IntegerField()
    current_participants = models.IntegerField(default=0)
    waitlist_count = models.IntegerField(default=0)
    
    # Status
    status = models.CharField(max_length=20, choices=[
        ('scheduled', 'Scheduled'),
        ('in_progress', 'In Progress'),
        ('completed', 'Completed'),
        ('cancelled', 'Cancelled'),
        ('postponed', 'Postponed'),
    ], default='scheduled')
    
    # Notes
    session_notes = models.TextField(blank=True)
    instructor_notes = models.TextField(blank=True)
    
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    class Meta:
        db_table = 'hr_course_sessions'
        verbose_name = 'Course Session'
        verbose_name_plural = 'Course Sessions'
        indexes = [
            models.Index(fields=['company_id', 'course_id'], name='idx_session_course'),
            models.Index(fields=['company_id', 'instructor_id'], name='idx_session_instructor'),
            models.Index(fields=['company_id', 'start_date'], name='idx_session_date'),
        ]
```

--- END OF SECTION 3 ---

## 4. REFERENCE MODELS (DJANGO)

### 4.1 Instructor

```python
class Instructor(models.Model):
    """
    Course instructor and facilitator information
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = models.UUIDField()
    
    instructor_name = models.CharField(max_length=200)
    instructor_code = models.CharField(max_length=50)
    bio = models.TextField(blank=True)
    expertise_areas = models.JSONField(default=list, blank=True)
    
    is_active = models.BooleanField(default=True)
    
    class Meta:
        db_table = 'hr_instructors'
        verbose_name = 'Instructor'
        verbose_name_plural = 'Instructors'
```

### 4.2 LearningPath

```python
class LearningPath(models.Model):
    """
    Learning paths and curriculum
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = UUIDField()
    
    path_name = models.CharField(max_length=200)
    path_code = models.CharField(max_length=50)
    description = models.TextField(blank=True)
    
    is_active = models.BooleanField(default=True)
    
    class Meta:
        db_table = 'hr_learning_paths'
        verbose_name = 'Learning Path'
        verbose_name_plural = 'Learning Paths'
```

--- END OF SECTION 4 ---

## 5. FOREIGN KEY RELATIONSHIPS

### 5.1 Primary Relationships
- **Course** → **Company**: Company ownership
- **CourseContent** → **Course**: Content belongs to course
- **CourseSession** → **Course**: Session belongs to course
- **CourseSession** → **Instructor**: Session instructor

### 5.2 Many-to-Many Relationships
- **Course** ↔ **CourseContent**: One-to-many relationship
- **Course** ↔ **CourseSession**: One-to-many relationship

--- END OF SECTION 5 ---

## 6. BUSINESS RULES & VALIDATIONS

### 6.1 Data Integrity Rules
- Course codes must be unique within company
- Course content must belong to valid course
- Session dates must be within course effective period
- Instructor assignments must be validated

### 6.2 Validation Logic
```python
def clean_course_dates(self):
    """
    Validate course effective and expiry dates
    """
    if self.effective_date and self.expiry_date:
        if self.effective_date >= self.expiry_date:
            raise ValidationError("Expiry date must be after effective date")

def clean_session_capacity(self):
    """
    Validate session capacity
    """
    if self.max_participants and self.max_participants < 1:
        raise ValidationError("Maximum participants must be at least 1")

def clean_duration_hours(self):
    """
    Validate course duration
    """
    if self.duration_hours and self.duration_hours < 0:
        raise ValidationError("Duration hours must be positive")
```

### 6.3 Business Constraints
- Maximum course duration: 1000 hours
- Maximum session duration: 8 hours
- Minimum course capacity: 1 participant
- Maximum waitlist size: 100 participants

--- END OF SECTION 6 ---

## 7. UI/UX SPECIFICATIONS

### 7.1 User Interface Requirements
- **Layout:** Dashboard with course catalog and management tools
- **Navigation**: Category-based browsing and search functionality
- **Responsiveness:** Mobile-optimized for learning access
- **Views:** Employee view, Instructor view, Admin view

### 7.2 User Experience Design
- **User Flow:** Browse catalog → View details → Enroll → Learn → Complete
- **Error Handling:** Clear validation messages and error recovery
- **Content Preview**: Rich media preview and download options
- **Search and Filter**: Advanced search with multiple criteria

### 7.3 Accessibility Standards
- **WCAG Compliance:** WCAG 2.1 AA
- **Keyboard Navigation:** Full keyboard accessibility
- **Screen Reader Support:** Proper ARIA labels and semantic HTML

### 7.4 Visual Design System
- **Color Scheme:** Professional colors with status indicators
- **Typography:** Clear, readable fonts for course content
- **Iconography:** Intuitive icons for course actions and types

--- END OF SECTION 7 ---

## 8. INTEGRATION POINTS

### 8.1 External Systems
- **LMS Platforms:** Integration with learning management systems
- **Video Platforms:** Video hosting and streaming services
- **Content Providers:** External course content integration
- **Payment Systems:** Course payment and billing integration
- **Certification Bodies**: External certification verification

### 8.2 Internal APIs
- **Employee Management API:** Employee information and enrollment data
- **Enrollment API:** Course enrollment management
- **Completion Tracking API:** Learning progress and completion data
- **Notification API:** Course notifications and reminders
- **Reporting API:** Learning analytics and metrics

--- END OF SECTION 8 ---

## 9. API SPECIFICATIONS

### 9.1 REST Endpoints

#### **GET /api/courses/**
- **Purpose:** Retrieve courses list
- **Authentication:** JWT token required
- **Parameters**: 
  - `category` (string): Filter by category
  - `type` (string): Filter by type
  - `status` (string): Filter by status
- **Response:** Paginated list of courses

#### **POST /api/courses/**
- **Purpose:** Create new course
- **Authentication:** JWT token required
- **Request Body:** Course configuration
- **Response:** Created course object

#### **GET /api/courses/{course_id}/**
- **Purpose:** Retrieve specific course details
- **Authentication:** JWT token required
- **Parameters:** `course_id` (UUID)
- **Response:** Complete course with content and sessions

#### **PUT /api/courses/{course_id}/**
- **Purpose:** Update course
- **Authentication:** JWT token with appropriate permissions
- **Request Body:** Updated course data
- **Response:** Updated course object

#### **POST /api/courses/{course_id}/content/**
- **Purpose:** Add content to course
- **Authentication:** JWT token required
- **Request Body:** Course content data
- **Response:** Created course content object

#### **GET /api/courses/{course_id}/content/**
- **Purpose:** Retrieve course content
- **Authentication:** JWT token required
- **Response:** List of course content

#### **POST /api/courses/{course_id}/sessions/**
- **Purpose:** Add session to course
- **Authentication:** JWT token required
- **Request Body:** Course session data
- **Response:** Created course session object

#### **GET /api/courses/{course_id}/sessions/**
- **Purpose:** Retrieve course sessions
- **Authentication:** JWT token required
- **Response:** List of course sessions

#### **GET /api/courses/featured/**
- **Purpose:** Retrieve featured courses
- **Authentication:** JWT token required
- **Response:** List of featured courses

#### **GET /api/courses/search/**
- **Purpose:** Search courses
- **Authentication:** JWT token required
- **Parameters**: `q` (string): Search query
- **Response:** Search results

### 9.2 Data Formats
- **Request Format:** JSON
- **Response Format:** JSON
- **Error Format:** Standardized error response with validation details

--- END OF SECTION 9 ---

## 10. SECURITY REQUIREMENTS

### 10.1 Authentication
- **Method:** JWT-based authentication with role-based access
- **Authorization:** Course access based on user role and permissions
- **Session Management:** Secure session handling with timeout

### 10.2 Data Protection
- **Encryption:** Encrypted storage for sensitive course data
- **Privacy Controls:** Course content privacy and access restrictions
- **Data Masking**: Sensitive information masking for unauthorized viewers

### 10.3 Access Control
- **Permissions:**
  - **Employee:** View and access available courses
  - **Instructor:** Manage assigned courses and sessions
  - **Training Admin:** Full access to course management
  - **HR Admin:** Full access to all courses and settings
- **Audit Trail:** Complete audit logging for all course changes

--- END OF SECTION 10 ---

## 11. PERFORMANCE CONSIDERATIONS

### 11.1 Database Optimization
- **Indexing Strategy:** Optimized indexes on course IDs and categories
- **Query Optimization:** Efficient course data retrieval with proper joins
- **Connection Pooling:** Database connection management for high-volume access

### 11.2 Caching Strategy
- **Cache Layers:** Redis for frequently accessed course data
- **Cache Invalidation:** Smart cache invalidation on course updates
- **Performance Metrics:** Sub-400ms response time for course operations

--- END OF SECTION 11 ---

## 12. TESTING REQUIREMENTS

### 12.1 Unit Tests
- **Coverage Target:** 85%
- **Test Framework:** pytest with Django test extensions
- **Test Data:** Factory Boy for comprehensive test data generation

### 12.2 Integration Tests
- **API Testing:** Complete API endpoint testing
- **Content Testing:** Course content upload and validation
- **LMS Integration Testing:** Learning platform integration validation

### 12.3 User Acceptance Tests
- **UAT Scenarios:** Complete course management workflows
- **Cross-browser Testing:** Compatibility across major browsers
- **Mobile Testing:** Responsive design validation

--- END OF SECTION 12 ---

## 13. DEPLOYMENT SPECIFICATIONS

### 13.1 Environment Requirements
- **Development:** Local development with mock content
- **Staging:** Full integration testing with LMS platforms
- **Production:** Scalable cloud infrastructure with content delivery

### 13.2 Configuration Management
- **Settings:** Environment-specific configuration
- **API Keys:** Secure management of external service credentials
- **Security Settings:** Production security hardening

--- END OF SECTION 13 ---

## 14. MAINTENANCE & SUPPORT

### 14.1 Regular Maintenance
- **Content Updates:** Regular course content review and updates
- **Performance Monitoring:** Course system performance tracking
- **Security Updates:** Regular security patching

### 14.2 Support Procedures
- **User Support:** Help desk integration for course issues
- **Documentation:** Comprehensive user guides and API documentation
- **Training:** Regular training sessions for instructors and administrators

--- END OF SECTION 14 ---

## 15. VERSION CONTROL

### 15.1 Version History
- **v1.0.0:** Initial release with basic course functionality
- **v1.1.0:** Enhanced mobile app and content delivery
- **v1.2.0:** Advanced analytics and reporting features

### 15.2 Change Management
- **Release Process:** Structured release with rollback capability
- **Migration Scripts:** Database migration handling
- **Feature Flags:** Gradual feature rollout capability

--- END OF SECTION 15 ---

## 16. COMPLIANCE & AUDIT

### 16.1 Regulatory Compliance
- **Data Privacy:** Course data privacy and access compliance
- **Accessibility:** ADA compliance for learning systems
- **Content Standards:** Industry standard compliance for learning content
- **Certification Requirements:** Professional certification compliance

### 16.2 Audit Requirements
- **Audit Trail:** Complete change history logging for all course changes
- **Content Reports:** Automated generation of required reports
- **Access Logging**: Comprehensive access audit logging
- **Compliance Reports**: Automated compliance reporting and validation

--- END OF SECTION 16 ---

**END OF BBP TEMPLATE**
