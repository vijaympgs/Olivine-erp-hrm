# 1. MODULE IDENTIFICATION

**Module Name:** Goal Setting
**Module Number:** 06.1
**Module Type:** Transaction
**Target File:** HR/06.Performance & Goals/06.1 Goal Setting.md
**Created Date:** December 29, 2025
**Version:** 1.0
**Author:** HR System Architect

--- END OF SECTION 1 ---

## 2. PURPOSE

### 2.1 Business Purpose
The Goal Setting module provides a comprehensive system for defining, tracking, and managing employee and organizational goals. It enables organizations to align individual objectives with company strategy, facilitate continuous performance management, and drive employee development through structured goal planning, progress monitoring, and achievement recognition.

### 2.2 Business Scope
**In Scope:**
- Individual and team goal creation and management
- Goal alignment with organizational objectives
- SMART goal framework and templates
- Goal cascading and hierarchy management
- Progress tracking and milestone monitoring
- Goal weight and priority assignment
- Goal category and competency mapping
- Regular check-ins and status updates
- Goal achievement evaluation and scoring
- Development goals and career planning
- Goal modification and adjustment workflows
- Goal analytics and reporting
- Integration with performance review cycles
- Mobile goal access and updates
- Goal library and best practices repository

**Out of Scope:**
- Performance review execution (handled in Review Cycle module)
- Rating and calibration processes (handled in Ratings module)
- Compensation and bonus calculations
- Advanced talent analytics and succession planning

### 2.3 Key Stakeholders
- **Employees:** Goal creation, tracking, and achievement
- **Managers:** Goal guidance, approval, and coaching
- **HR Department:** Goal framework design and oversight
- **Leadership:** Strategic goal alignment and monitoring
- **Department Heads:** Team goal coordination and tracking

--- END OF SECTION 2 ---

## 3. CORE MODELS (DJANGO)

### 3.1 Primary Model: Goal

```python
class Goal(models.Model):
    """
    Main goal model for performance management
    """
    
    # Primary Key
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    
    # Foreign Keys
    company_id = models.UUIDField()
    employee_id = models.UUIDField()
    manager_id = models.UUIDField(null=True, blank=True)
    parent_goal_id = models.UUIDField(null=True, blank=True)
    created_by_user_id = models.UUIDField()
    updated_by_user_id = models.UUIDField()
    
    # Goal Details
    goal_number = models.CharField(max_length=50)
    title = models.CharField(max_length=200)
    description = models.TextField()
    
    # Goal Classification
    goal_type = models.CharField(max_length=50, choices=[
        ('performance', 'Performance Goal'),
        ('development', 'Development Goal'),
        ('behavioral', 'Behavioral Goal'),
        ('project', 'Project Goal'),
        ('team', 'Team Goal'),
        ('organizational', 'Organizational Goal'),
    ], default='performance')
    
    goal_category = models.CharField(max_length=100, choices=[
        ('productivity', 'Productivity'),
        ('quality', 'Quality'),
        ('customer_service', 'Customer Service'),
        ('innovation', 'Innovation'),
        ('collaboration', 'Collaboration'),
        ('leadership', 'Leadership'),
        ('communication', 'Communication'),
        ('technical_skills', 'Technical Skills'),
        ('business_acumen', 'Business Acumen'),
        ('other', 'Other'),
    ])
    
    # SMART Framework
    is_smart = models.BooleanField(default=False)
    specific_description = models.TextField(blank=True)
    measurable_metrics = models.JSONField(default=list, blank=True)
    achievable_assessment = models.TextField(blank=True)
    relevance_explanation = models.TextField(blank=True)
    time_bound_date = models.DateField(null=True, blank=True)
    
    # Goal Configuration
    priority = models.CharField(max_length=20, choices=[
        ('low', 'Low'),
        ('medium', 'Medium'),
        ('high', 'High'),
        ('critical', 'Critical'),
    ], default='medium')
    
    weight_percentage = models.IntegerField(default=0)
    difficulty_level = models.CharField(max_length=20, choices=[
        ('easy', 'Easy'),
        ('moderate', 'Moderate'),
        ('challenging', 'Challenging'),
        ('stretch', 'Stretch'),
    ], default='moderate')
    
    # Status Management
    status = models.CharField(max_length=20, choices=[
        ('draft', 'Draft'),
        ('proposed', 'Proposed'),
        ('approved', 'Approved'),
        ('active', 'Active'),
        ('on_track', 'On Track'),
        ('at_risk', 'At Risk'),
        ('behind', 'Behind'),
        ('achieved', 'Achieved'),
        ('partially_achieved', 'Partially Achieved'),
        ('not_achieved', 'Not Achieved'),
        ('cancelled', 'Cancelled'),
    ], default='draft')
    
    # Timeline
    created_date = models.DateTimeField(auto_now_add=True)
    start_date = models.DateField()
    target_date = models.DateField()
    completion_date = models.DateField(null=True, blank=True)
    
    # Progress Tracking
    progress_percentage = models.IntegerField(default=0)
    current_status = models.TextField(blank=True)
    achievements = models.JSONField(default=list, blank=True)
    challenges = models.JSONField(default=list, blank=True)
    
    # Success Metrics
    success_criteria = models.JSONField(default=list, blank=True)
    measurement_method = models.CharField(max_length=100, blank=True)
    target_value = models.CharField(max_length=200, blank=True)
    current_value = models.CharField(max_length=200, blank=True)
    
    # Alignment
    strategic_objective_id = models.UUIDField(null=True, blank=True)
    department_goal_id = models.UUIDField(null=True, blank=True)
    company_goal_id = models.UUIDField(null=True, blank=True)
    
    # Approval Information
    approved_by_user_id = models.UUIDField(null=True, blank=True)
    approved_date = models.DateTimeField(null=True, blank=True)
    approval_comments = models.TextField(blank=True)
    
    # Notes and Attachments
    employee_notes = models.TextField(blank=True)
    manager_notes = models.TextField(blank=True)
    attachment_urls = models.JSONField(default=list, blank=True)
    
    class Meta:
        db_table = 'hr_goals'
        verbose_name = 'Goal'
        verbose_name_plural = 'Goals'
        indexes = [
            models.Index(fields=['company_id', 'employee_id'], name='idx_goal_employee'),
            models.Index(fields=['company_id', 'status'], name='idx_goal_status'),
            models.Index(fields=['company_id', 'goal_type'], name='idx_goal_type'),
            models.Index(fields=['company_id', 'target_date'], name='idx_goal_target_date'),
        ]
        constraints = [
            models.UniqueConstraint(fields=['company_id', 'goal_number'], name='uk_goal_number'),
        ]
```

### 3.2 Supporting Model: GoalProgress

```python
class GoalProgress(models.Model):
    """
    Goal progress updates and check-ins
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = models.UUIDField()
    goal_id = models.UUIDField()
    employee_id = models.UUIDField()
    
    # Progress Details
    progress_date = models.DateTimeField(auto_now_add=True)
    progress_percentage = models.IntegerField()
    status_update = models.CharField(max_length=20, choices=[
        ('on_track', 'On Track'),
        ('ahead', 'Ahead of Schedule'),
        ('behind', 'Behind Schedule'),
        ('blocked', 'Blocked'),
        ('completed', 'Completed'),
    ])
    
    # Progress Description
    achievements = models.TextField(blank=True)
    challenges = models.TextField(blank=True)
    next_steps = models.TextField(blank=True)
    support_needed = models.TextField(blank=True)
    
    # Metrics and Evidence
    metrics_data = models.JSONField(default=dict, blank=True)
    evidence_urls = models.JSONField(default=list, blank=True)
    milestone_achieved = models.BooleanField(default=False)
    
    # Manager Feedback
    manager_feedback = models.TextField(blank=True)
    manager_rating = models.IntegerField(null=True, blank=True)
    coaching_notes = models.TextField(blank=True)
    
    # Recognition
    recognition_given = models.BooleanField(default=False)
    recognition_details = models.TextField(blank=True)
    
    class Meta:
        db_table = 'hr_goal_progress'
        verbose_name = 'Goal Progress'
        verbose_name_plural = 'Goal Progress'
        indexes = [
            models.Index(fields=['company_id', 'goal_id'], name='idx_progress_goal'),
            models.Index(fields=['company_id', 'employee_id'], name='idx_progress_employee'),
            models.Index(fields=['company_id', 'progress_date'], name='idx_progress_date'),
        ]
```

### 3.3 Supporting Model: GoalTemplate

```python
class GoalTemplate(models.Model):
    """
    Goal templates for standardized goal creation
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = models.UUIDField()
    
    # Template Details
    template_name = models.CharField(max_length=200)
    template_code = models.CharField(max_length=50)
    description = models.TextField(blank=True)
    
    # Template Configuration
    goal_type = models.CharField(max_length=50)
    goal_category = models.CharField(max_length=100)
    suggested_weight = models.IntegerField(default=0)
    suggested_difficulty = models.CharField(max_length=20)
    
    # Template Content
    title_template = models.CharField(max_length=200)
    description_template = models.TextField(blank=True)
    success_criteria_template = models.JSONField(default=list, blank=True)
    measurement_method_template = models.CharField(max_length=100, blank=True)
    
    # Applicability
    applies_to_departments = models.JSONField(default=list, blank=True)
    applies_to_roles = models.JSONField(default=list, blank=True)
    applies_to_levels = models.JSONField(default=list, blank=True)
    
    # Status
    is_active = models.BooleanField(default=True)
    is_public = models.BooleanField(default=True)
    
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    class Meta:
        db_table = 'hr_goal_templates'
        verbose_name = 'Goal Template'
        verbose_name_plural = 'Goal Templates'
        constraints = [
            models.UniqueConstraint(fields=['company_id', 'template_code'], name='uk_template_code'),
        ]
```

--- END OF SECTION 3 ---

## 4. REFERENCE MODELS (DJANGO)

### 4.1 StrategicObjective

```python
class StrategicObjective(models.Model):
    """
    Strategic objectives for goal alignment
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = models.UUIDField()
    objective_name = models.CharField(max_length=200)
    objective_code = models.CharField(max_length=50)
    description = models.TextField(blank=True)
    is_active = models.BooleanField(default=True)
    
    class Meta:
        db_table = 'hr_strategic_objectives'
        verbose_name = 'Strategic Objective'
        verbose_name_plural = 'Strategic Objectives'
```

### 4.2 GoalCategory

```python
class GoalCategory(models.Model):
    """
    Goal categories for classification
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = models.UUIDField()
    category_name = models.CharField(max_length=100)
    category_code = models.CharField(max_length=50)
    description = models.TextField(blank=True)
    is_active = models.BooleanField(default=True)
    
    class Meta:
        db_table = 'hr_goal_categories'
        verbose_name = 'Goal Category'
        verbose_name_plural = 'Goal Categories'
```

--- END OF SECTION 4 ---

## 5. FOREIGN KEY RELATIONSHIPS

### 5.1 Primary Relationships
- **Goal** → **Employee**: Goal owner
- **Goal** → **Manager**: Goal approver/coach
- **Goal** → **ParentGoal**: Goal hierarchy
- **GoalProgress** → **Goal**: Progress for goal
- **GoalTemplate** → **Company**: Company templates

### 5.2 Many-to-Many Relationships
- **Goal** ↔ **GoalProgress**: One-to-many relationship
- **Goal** ↔ **StrategicObjective**: Many-to-many through alignment

--- END OF SECTION 5 ---

## 6. BUSINESS RULES & VALIDATIONS

### 6.1 Data Integrity Rules
- Goal numbers must be unique within company
- Progress percentages must be between 0-100
- Target dates must be after start dates
- Weight percentages must sum to 100 per employee
- SMART goals must have all components defined

### 6.2 Validation Logic
```python
def clean_progress_percentage(self):
    """
    Validate progress percentage
    """
    if self.progress_percentage < 0 or self.progress_percentage > 100:
        raise ValidationError("Progress percentage must be between 0 and 100")

def clean_goal_dates(self):
    """
    Validate goal date logic
    """
    if self.target_date and self.start_date:
        if self.target_date <= self.start_date:
            raise ValidationError("Target date must be after start date")

def clean_weight_percentage(self):
    """
    Validate weight percentage
    """
    if self.weight_percentage < 0 or self.weight_percentage > 100:
        raise ValidationError("Weight percentage must be between 0 and 100")
```

### 6.3 Business Constraints
- Maximum active goals per employee: 15
- Maximum weight per goal: 50%
- Minimum progress update frequency: Monthly
- Goal duration range: 1 month to 3 years

--- END OF SECTION 6 ---

## 7. UI/UX SPECIFICATIONS

### 7.1 User Interface Requirements
- **Layout:** Dashboard with goal overview and detailed views
- **Navigation:** Tabbed interface for different goal types
- **Responsiveness:** Mobile-optimized for goal management
- **Views:** Employee view, Manager view, Leadership view

### 7.2 User Experience Design
- **User Flow:** Create goal → Get approval → Track progress → Update status → Complete
- **Error Handling:** Clear validation messages and error recovery
- **Progress Visualization:** Visual progress indicators and charts
- **Quick Actions:** One-click progress updates and status changes

### 7.3 Accessibility Standards
- **WCAG Compliance:** WCAG 2.1 AA
- **Keyboard Navigation:** Full keyboard accessibility
- **Screen Reader Support:** Proper ARIA labels and semantic HTML

### 7.4 Visual Design System
- **Color Scheme:** Status-based color coding for goals
- **Typography:** Clear, readable fonts for goal descriptions
- **Iconography:** Intuitive icons for goal actions and statuses

--- END OF SECTION 7 ---

## 8. INTEGRATION POINTS

### 8.1 External Systems
- **Learning Management Systems:** Development goal integration
- **Project Management Tools:** Project goal synchronization
- **Communication Platforms:** Goal updates and notifications
- **Document Storage**: Goal attachment management
- **Analytics Platforms**: Goal achievement analytics

### 8.2 Internal APIs
- **Employee Management API:** Employee and manager information
- **Performance Review API:** Goal integration with reviews
- **Notification API:** Goal notifications and reminders
- **Reporting API:** Goal analytics and metrics
- **User Management API:** User authentication and authorization

--- END OF SECTION 8 ---

## 9. API SPECIFICATIONS

### 9.1 REST Endpoints

#### **GET /api/goals/**
- **Purpose:** Retrieve goals list
- **Authentication:** JWT token required
- **Parameters**: 
  - `employee_id` (UUID): Filter by employee
  - `status` (string): Filter by status
  - `goal_type` (string): Filter by type
- **Response:** Paginated list of goals

#### **POST /api/goals/**
- **Purpose:** Create new goal
- **Authentication:** JWT token required
- **Request Body:** Goal configuration
- **Response:** Created goal object

#### **GET /api/goals/{goal_id}/**
- **Purpose:** Retrieve specific goal details
- **Authentication:** JWT token required
- **Parameters:** `goal_id` (UUID)
- **Response:** Complete goal with progress

#### **PUT /api/goals/{goal_id}/**
- **Purpose:** Update goal
- **Authentication:** JWT token with appropriate permissions
- **Request Body:** Updated goal data
- **Response:** Updated goal object

#### **POST /api/goals/{goal_id}/progress/**
- **Purpose:** Add progress update to goal
- **Authentication:** JWT token required
- **Request Body:** Progress update data
- **Response:** Created progress update object

#### **GET /api/goals/{goal_id}/progress/**
- **Purpose:** Retrieve goal progress history
- **Authentication:** JWT token required
- **Response:** List of progress updates

#### **POST /api/goals/{goal_id}/approve/**
- **Purpose:** Approve goal
- **Authentication:** JWT token with approval permissions
- **Request Body:** Approval details
- **Response:** Updated goal status

#### **GET /api/goal-templates/**
- **Purpose:** Retrieve goal templates
- **Authentication:** JWT token required
- **Parameters**: `goal_type` (string): Filter by type
- **Response:** List of goal templates

#### **GET /api/goals/my-goals/**
- **Purpose:** Retrieve goals for current user
- **Authentication:** JWT token required
- **Response:** List of user's goals

#### **POST /api/goals/bulk-update/**
- **Purpose:** Bulk update multiple goals
- **Authentication:** JWT token required
- **Request Body:** Bulk update details
- **Response:** Bulk update results

### 9.2 Data Formats
- **Request Format:** JSON
- **Response Format:** JSON
- **Error Format:** Standardized error response with validation details

--- END OF SECTION 9 ---

## 10. SECURITY REQUIREMENTS

### 10.1 Authentication
- **Method:** JWT-based authentication with role-based access
- **Authorization:** Goal access based on user role and relationship
- **Session Management:** Secure session handling with timeout

### 10.2 Data Protection
- **Encryption:** Encrypted storage for sensitive goal data
- **Privacy Controls:** Goal data privacy and access restrictions
- **Data Masking**: Sensitive information masking for unauthorized viewers

### 10.3 Access Control
- **Permissions:**
  - **Employee:** Create and manage own goals
  - **Manager:** View and approve team goals
  - **HR Admin:** Full access to all goals
  - **Leadership:** View organizational goal alignment
- **Audit Trail:** Complete audit logging for all goal changes

--- END OF SECTION 10 ---

## 11. PERFORMANCE CONSIDERATIONS

### 11.1 Database Optimization
- **Indexing Strategy:** Optimized indexes on employee IDs and status
- **Query Optimization:** Efficient goal data retrieval with proper joins
- **Connection Pooling:** Database connection management for high-volume access

### 11.2 Caching Strategy
- **Cache Layers:** Redis for frequently accessed goal data
- **Cache Invalidation:** Smart cache invalidation on goal updates
- **Performance Metrics:** Sub-300ms response time for goal operations

--- END OF SECTION 11 ---

## 12. TESTING REQUIREMENTS

### 12.1 Unit Tests
- **Coverage Target:** 85%
- **Test Framework:** pytest with Django test extensions
- **Test Data:** Factory Boy for comprehensive test data generation

### 12.2 Integration Tests
- **API Testing:** Complete API endpoint testing
- **Goal Calculation Testing:** Progress calculation accuracy
- **Workflow Testing:** Goal approval process validation

### 12.3 User Acceptance Tests
- **UAT Scenarios:** Complete goal management workflows
- **Cross-browser Testing:** Compatibility across major browsers
- **Mobile Testing:** Responsive design validation

--- END OF SECTION 12 ---

## 13. DEPLOYMENT SPECIFICATIONS

### 13.1 Environment Requirements
- **Development:** Local development with mock data
- **Staging:** Full integration testing with external systems
- **Production:** Scalable cloud infrastructure with secure integrations

### 13.2 Configuration Management
- **Settings:** Environment-specific configuration
- **API Keys:** Secure management of external service credentials
- **Security Settings:** Production security hardening

--- END OF SECTION 13 ---

## 14. MAINTENANCE & SUPPORT

### 14.1 Regular Maintenance
- **Data Cleanup:** Regular archiving of historical goal data
- **Performance Monitoring:** Goal system performance tracking
- **Security Updates:** Regular security patching

### 14.2 Support Procedures
- **User Support:** Help desk integration for goal issues
- **Documentation:** Comprehensive user guides and API documentation
- **Training:** Regular training sessions for employees and managers

--- END OF SECTION 14 ---

## 15. VERSION CONTROL

### 15.1 Version History
- **v1.0.0:** Initial release with basic goal functionality
- **v1.1.0:** Enhanced mobile app and progress tracking
- **v1.2.0:** Advanced analytics and goal alignment features

### 15.2 Change Management
- **Release Process:** Structured release with rollback capability
- **Migration Scripts:** Database migration handling
- **Feature Flags:** Gradual feature rollout capability

--- END OF SECTION 15 ---

## 16. COMPLIANCE & AUDIT

### 16.1 Regulatory Compliance
- **Data Privacy:** Goal data privacy and access compliance
- **Accessibility:** ADA compliance for goal systems
- **Audit Requirements**: Complete audit trail maintenance
- **Performance Standards**: Industry best practices compliance

### 16.2 Audit Requirements
- **Audit Trail:** Complete change history logging for all goal changes
- **Goal Reports:** Automated generation of required reports
- **Access Logging**: Comprehensive access audit logging
- **Compliance Reports**: Automated compliance reporting and validation

--- END OF SECTION 16 ---

**END OF BBP TEMPLATE**
