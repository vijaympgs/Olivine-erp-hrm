# 1. MODULE IDENTIFICATION

**Module Name:** New Hire Setup
**Module Number:** 03.5
**Module Type:** Transaction
**Target File:** HR/03.Talent & Onboarding/03.5 New Hire Setup.md
**Created Date:** December 29, 2025
**Version:** 1.0
**Author:** HR System Architect

--- END OF SECTION 1 ---

## 2. PURPOSE

### 2.1 Business Purpose
The New Hire Setup module provides a comprehensive system for managing the entire onboarding process from offer acceptance to employee activation. It enables HR professionals to efficiently coordinate all onboarding activities, ensure compliance with requirements, and provide a smooth transition experience for new employees through automated workflows, task management, and progress tracking.

### 2.2 Business Scope
**In Scope:**
- Automated onboarding workflow management
- Task assignment and tracking for all stakeholders
- Document collection and verification
- Equipment and asset provisioning
- System access and account setup
- Compliance training and policy acknowledgment
- Orientation schedule management
- Buddy/mentor program coordination
- IT setup and help desk coordination
- Facilities and workspace preparation
- Benefits enrollment and administration
- Payroll setup and tax form collection
- Emergency contact and dependent information
- New hire portal and self-service capabilities
- Onboarding progress reporting and analytics

**Out of Scope:**
- Offer management and negotiation (handled in Offer Management module)
- Recruitment and interview processes (handled in other Talent modules)
- Ongoing employee management (handled in Employee Management modules)
- Termination and offboarding processes (handled in Offboarding modules)

### 2.3 Key Stakeholders
- **HR Professionals:** Onboarding process coordination and management
- **Hiring Managers:** Team integration and role-specific onboarding
- **IT Department:** System access, equipment, and technical setup
- **Facilities Team:** Workspace preparation and access cards
- **Finance/Payroll:** Compensation setup and tax processing
- **New Hires:** Onboarding task completion and information provision
- **Buddies/Mentors:** New hire support and guidance

--- END OF SECTION 2 ---

## 3. CORE MODELS (DJANGO)

### 3.1 Primary Model: OnboardingProcess

```python
class OnboardingProcess(models.Model):
    """
    Main onboarding process model for managing new hire setup
    """
    
    # Primary Key
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    
    # Foreign Keys
    company_id = models.UUIDField()
    employee_id = models.UUIDField()
    job_posting_id = models.UUIDField()
    offer_id = models.UUIDField()
    created_by_user_id = models.UUIDField()
    updated_by_user_id = models.UUIDField()
    
    # Process Details
    onboarding_number = models.CharField(max_length=50)
    start_date = models.DateField()
    onboarding_type = models.CharField(max_length=50, choices=[
        ('standard', 'Standard Onboarding'),
        ('expedited', 'Expedited Onboarding'),
        ('remote', 'Remote Onboarding'),
        ('international', 'International Onboarding'),
        ('executive', 'Executive Onboarding'),
        ('intern', 'Intern Onboarding'),
        ('contractor', 'Contractor Onboarding'),
    ], default='standard')
    
    # Status Management
    status = models.CharField(max_length=50, choices=[
        ('initiated', 'Initiated'),
        ('in_progress', 'In Progress'),
        ('pending_documents', 'Pending Documents'),
        ('pending_setup', 'Pending Setup'),
        ('ready', 'Ready for Start'),
        ('active', 'Active'),
        ('completed', 'Completed'),
        ('on_hold', 'On Hold'),
        ('cancelled', 'Cancelled'),
    ], default='initiated')
    
    # Timeline Management
    process_start_date = models.DateTimeField(auto_now_add=True)
    target_completion_date = models.DateField()
    actual_completion_date = models.DateField(null=True, blank=True)
    
    # Progress Tracking
    total_tasks = models.IntegerField(default=0)
    completed_tasks = models.IntegerField(default=0)
    progress_percentage = models.IntegerField(default=0)
    
    # Team Assignment
    hr_coordinator_id = models.UUIDField(null=True, blank=True)
    hiring_manager_id = models.UUIDField(null=True, blank=True)
    it_coordinator_id = models.UUIDField(null=True, blank=True)
    buddy_id = models.UUIDField(null=True, blank=True)
    
    # Onboarding Settings
    send_welcome_email = models.BooleanField(default=True)
    enable_self_service = models.BooleanField(default=True)
    require_document_upload = models.BooleanField(default=True)
    
    # Special Requirements
    special_requirements = models.TextField(blank=True)
    accessibility_needs = models.TextField(blank=True)
    equipment_requests = models.JSONField(default=list, blank=True)
    
    # Compliance and Audit
    compliance_checklist_completed = models.BooleanField(default=False)
    background_check_completed = models.BooleanField(default=False)
    drug_test_completed = models.BooleanField(default=False)
    
    # Audit Fields
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    class Meta:
        db_table = 'hr_onboarding_processes'
        verbose_name = 'Onboarding Process'
        verbose_name_plural = 'Onboarding Processes'
        indexes = [
            models.Index(fields=['company_id', 'employee_id'], name='idx_onboarding_employee'),
            models.Index(fields=['company_id', 'status'], name='idx_onboarding_status'),
            models.Index(fields=['company_id', 'start_date'], name='idx_onboarding_start_date'),
        ]
        constraints = [
            models.UniqueConstraint(fields=['company_id', 'onboarding_number'], name='uk_onboarding_number'),
        ]
```

### 3.2 Supporting Model: OnboardingTask

```python
class OnboardingTask(models.Model):
    """
    Individual tasks within the onboarding process
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = models.UUIDField()
    onboarding_process_id = models.UUIDField()
    
    # Task Details
    task_name = models.CharField(max_length=200)
    task_description = models.TextField(blank=True)
    task_category = models.CharField(max_length=50, choices=[
        ('hr', 'HR Tasks'),
        ('it', 'IT Tasks'),
        ('facilities', 'Facilities Tasks'),
        ('finance', 'Finance Tasks'),
        ('compliance', 'Compliance Tasks'),
        ('training', 'Training Tasks'),
        ('documentation', 'Documentation Tasks'),
        ('equipment', 'Equipment Tasks'),
        ('orientation', 'Orientation Tasks'),
    ])
    
    # Assignment and Responsibility
    assigned_to_id = models.UUIDField(null=True, blank=True)
    assigned_to_role = models.CharField(max_length=100, choices=[
        ('hr_coordinator', 'HR Coordinator'),
        ('hiring_manager', 'Hiring Manager'),
        ('it_coordinator', 'IT Coordinator'),
        ('facilities_coordinator', 'Facilities Coordinator'),
        ('payroll_coordinator', 'Payroll Coordinator'),
        ('new_hire', 'New Hire'),
        ('buddy', 'Buddy/Mentor'),
    ])
    
    # Status and Timing
    status = models.CharField(max_length=50, choices=[
        ('pending', 'Pending'),
        ('in_progress', 'In Progress'),
        ('completed', 'Completed'),
        ('overdue', 'Overdue'),
        ('cancelled', 'Cancelled'),
    ], default='pending')
    
    priority = models.CharField(max_length=20, choices=[
        ('low', 'Low'),
        ('medium', 'Medium'),
        ('high', 'High'),
        ('critical', 'Critical'),
    ], default='medium')
    
    due_date = models.DateTimeField(null=True, blank=True)
    completed_date = models.DateTimeField(null=True, blank=True)
    
    # Task Configuration
    is_required = models.BooleanField(default=True)
    is_prerequisite = models.BooleanField(default=False)
    auto_assign = models.BooleanField(default=True)
    
    # Dependencies
    depends_on_tasks = models.JSONField(default=list, blank=True)
    blocks_tasks = models.JSONField(default=list, blank=True)
    
    # Completion Details
    completion_notes = models.TextField(blank=True)
    completed_by_id = models.UUIDField(null=True, blank=True)
    
    # Attachments and Links
    required_documents = models.JSONField(default=list, blank=True)
    task_instructions = models.TextField(blank=True)
    external_links = models.JSONField(default=list, blank=True)
    
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    class Meta:
        db_table = 'hr_onboarding_tasks'
        verbose_name = 'Onboarding Task'
        verbose_name_plural = 'Onboarding Tasks'
        indexes = [
            models.Index(fields=['company_id', 'onboarding_process_id'], name='idx_task_process'),
            models.Index(fields=['company_id', 'assigned_to_id'], name='idx_task_assignee'),
            models.Index(fields=['company_id', 'status'], name='idx_task_status'),
        ]
```

### 3.3 Supporting Model: OnboardingDocument

```python
class OnboardingDocument(models.Model):
    """
    Documents collected during onboarding process
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = models.UUIDField()
    onboarding_process_id = models.UUIDField()
    employee_id = models.UUIDField()
    
    # Document Details
    document_type = models.CharField(max_length=100, choices=[
        ('id_proof', 'ID Proof'),
        ('passport', 'Passport'),
        ('visa', 'Visa'),
        ('work_permit', 'Work Permit'),
        ('tax_form', 'Tax Form'),
        ('bank_details', 'Bank Details'),
        ('emergency_contact', 'Emergency Contact'),
        ('medical_form', 'Medical Form'),
        ('nda', 'Non-Disclosure Agreement'),
        ('employment_contract', 'Employment Contract'),
        ('policy_acknowledgment', 'Policy Acknowledgment'),
        ('beneficiary_form', 'Beneficiary Form'),
        ('direct_deposit', 'Direct Deposit Form'),
        ('i9', 'I-9 Form'),
        ('w4', 'W-4 Form'),
        ('other', 'Other'),
    ])
    
    document_name = models.CharField(max_length=200)
    description = models.TextField(blank=True)
    
    # File Information
    file_url = models.URLField()
    file_size = models.BigInteger()
    file_type = models.CharField(max_length=100)
    file_hash = models.CharField(max_length=256, blank=True)
    
    # Status and Verification
    status = models.CharField(max_length=50, choices=[
        ('uploaded', 'Uploaded'),
        ('pending_review', 'Pending Review'),
        ('verified', 'Verified'),
        ('rejected', 'Rejected'),
        ('expired', 'Expired'),
    ], default='uploaded')
    
    verification_date = models.DateTimeField(null=True, blank=True)
    verified_by_id = models.UUIDField(null=True, blank=True)
    rejection_reason = models.TextField(blank=True)
    
    # Expiry and Renewal
    expiry_date = models.DateField(null=True, blank=True)
    reminder_sent = models.BooleanField(default=False)
    
    # Compliance and Security
    is_confidential = models.BooleanField(default=False)
    access_level = models.CharField(max_length=50, choices=[
        ('public', 'Public'),
        ('hr_only', 'HR Only'),
        ('manager', 'Manager'),
        ('restricted', 'Restricted'),
    ], default='hr_only')
    
    # Upload Details
    uploaded_by_id = models.UUIDField()
    upload_date = models.DateTimeField(auto_now_add=True)
    upload_source = models.CharField(max_length=50, choices=[
        ('employee_portal', 'Employee Portal'),
        ('hr_upload', 'HR Upload'),
        ('email_attachment', 'Email Attachment'),
        ('scan', 'Scan'),
    ], default='employee_portal')
    
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    class Meta:
        db_table = 'hr_onboarding_documents'
        verbose_name = 'Onboarding Document'
        verbose_name_plural = 'Onboarding Documents'
        indexes = [
            models.Index(fields=['company_id', 'onboarding_process_id'], name='idx_doc_process'),
            models.Index(fields=['company_id', 'document_type'], name='idx_doc_type'),
            models.Index(fields=['company_id', 'status'], name='idx_doc_status'),
        ]
```

--- END OF SECTION 3 ---

## 4. REFERENCE MODELS (DJANGO)

### 4.1 OnboardingTemplate

```python
class OnboardingTemplate(models.Model):
    """
    Reusable onboarding templates for different employee types
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = models.UUIDField()
    template_name = models.CharField(max_length=200)
    employee_category = models.CharField(max_length=100)
    description = models.TextField(blank=True)
    task_config = models.JSONField(default=dict)
    document_requirements = models.JSONField(default=list)
    timeline_config = models.JSONField(default=dict)
    is_active = models.BooleanField(default=True)
    
    class Meta:
        db_table = 'hr_onboarding_templates'
        verbose_name = 'Onboarding Template'
        verbose_name_plural = 'Onboarding Templates'
```

### 4.2 OnboardingChecklist

```python
class OnboardingChecklist(models.Model):
    """
    Standard onboarding checklists
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = models.UUIDField()
    checklist_name = models.CharField(max_length=200)
    checklist_category = models.CharField(max_length=100)
    items = models.JSONField(default=list)
    is_mandatory = models.BooleanField(default=True)
    
    class Meta:
        db_table = 'hr_onboarding_checklists'
        verbose_name = 'Onboarding Checklist'
        verbose_name_plural = 'Onboarding Checklists'
```

--- END OF SECTION 4 ---

## 5. FOREIGN KEY RELATIONSHIPS

### 5.1 Primary Relationships
- **OnboardingProcess** → **Employee**: New hire being onboarded
- **OnboardingProcess** → **JobPosting**: Position details
- **OnboardingProcess** → **Offer**: Accepted offer information
- **OnboardingTask** → **OnboardingProcess**: Tasks within process
- **OnboardingDocument** → **OnboardingProcess**: Documents for process

### 5.2 Many-to-Many Relationships
- **OnboardingProcess** ↔ **OnboardingTask**: One-to-many relationship
- **OnboardingProcess** ↔ **OnboardingDocument**: One-to-many relationship

--- END OF SECTION 5 ---

## 6. BUSINESS RULES & VALIDATIONS

### 6.1 Data Integrity Rules
- Onboarding numbers must be unique within company
- Start date cannot be in the past for new processes
- Required tasks must be completed before process finalization
- Document expiry dates must trigger notifications
- Task dependencies must be respected in scheduling

### 6.2 Validation Logic
```python
def clean_start_date(self):
    """
    Validate start date is not in the past for new onboarding
    """
    if self.start_date and self.start_date < timezone.now().date():
        if not self.pk:  # New onboarding process
            raise ValidationError("Start date cannot be in the past")

def clean_progress_percentage(self):
    """
    Validate progress percentage is within valid range
    """
    if self.progress_percentage is not None and (self.progress_percentage < 0 or self.progress_percentage > 100):
        raise ValidationError("Progress percentage must be between 0 and 100")

def clean_task_dependencies(self):
    """
    Validate task dependencies don't create circular references
    """
    # Implementation for dependency validation
    pass
```

### 6.3 Business Constraints
- Maximum onboarding duration: 90 days
- Minimum document retention: 7 years
- Task completion deadline: 5 business days before start date
- Compliance checklist completion: Mandatory before first day

--- END OF SECTION 6 ---

## 7. UI/UX SPECIFICATIONS

### 7.1 User Interface Requirements
- **Layout:** Dashboard with progress tracking and task management
- **Navigation:** Tabbed interface for different onboarding aspects
- **Responsiveness:** Mobile-optimized for on-the-go task management
- **Views:** HR view, Manager view, New Hire view

### 7.2 User Experience Design
- **User Flow:** Create process → Assign tasks → Collect documents → Track progress → Complete setup
- **Error Handling:** Clear validation messages and error recovery
- **Loading States:** Progress indicators for document uploads
- **Bulk Actions:** Mass task assignment for multiple new hires

### 7.3 Accessibility Standards
- **WCAG Compliance:** WCAG 2.1 AA
- **Keyboard Navigation:** Full keyboard accessibility
- **Screen Reader Support:** Proper ARIA labels and semantic HTML

### 7.4 Visual Design System
- **Color Scheme:** Progress-based color coding for task status
- **Typography:** Clear, readable fonts for task descriptions
- **Iconography:** Intuitive icons for task categories and actions

--- END OF SECTION 7 ---

## 8. INTEGRATION POINTS

### 8.1 External Systems
- **Identity Providers:** Active Directory, Azure AD for account creation
- **Email Systems:** Office 365, Google Workspace for email setup
- **Payroll Systems:** ADP, Paychex for payroll integration
- **Benefits Providers:** Insurance carriers for benefits enrollment
- **Background Check Services:** Verification service integrations

### 8.2 Internal APIs
- **Employee Management API:** Employee record creation
- **Offer Management API:** Offer acceptance data
- **IT Service Management API:** Ticket creation and tracking
- **Facilities Management API:** Workspace and access management
- **Communication API:** Automated notifications and reminders

--- END OF SECTION 8 ---

## 9. API SPECIFICATIONS

### 9.1 REST Endpoints

#### **GET /api/onboarding-processes/**
- **Purpose:** Retrieve onboarding processes list
- **Authentication:** JWT token required
- **Parameters:** 
  - `employee_id` (UUID): Filter by employee
  - `status` (string): Filter by onboarding status
  - `start_date_from` (date): Filter by start date
- **Response:** Paginated list of onboarding processes

#### **POST /api/onboarding-processes/**
- **Purpose:** Create new onboarding process
- **Authentication:** JWT token required
- **Request Body:** Onboarding process configuration
- **Response:** Created onboarding process object

#### **GET /api/onboarding-processes/{process_id}/**
- **Purpose:** Retrieve specific onboarding process details
- **Authentication:** JWT token required
- **Parameters:** `process_id` (UUID)
- **Response:** Complete onboarding process with tasks and documents

#### **PUT /api/onboarding-processes/{process_id}/**
- **Purpose:** Update onboarding process
- **Authentication:** JWT token with appropriate permissions
- **Request Body:** Updated onboarding data
- **Response:** Updated onboarding process object

#### **POST /api/onboarding-processes/{process_id}/tasks/**
- **Purpose:** Add task to onboarding process
- **Authentication:** JWT token required
- **Request Body:** Task configuration
- **Response:** Created task object

#### **POST /api/onboarding-processes/{process_id}/documents/**
- **Purpose:** Upload document to onboarding process
- **Authentication:** JWT token required
- **Request Body:** Document metadata and file
- **Response:** Created document object

#### **GET /api/onboarding-processes/{process_id}/progress/**
- **Purpose:** Get onboarding progress summary
- **Authentication:** JWT token required
- **Response:** Progress statistics and task completion status

### 9.2 Data Formats
- **Request Format:** JSON with multipart/form-data for file uploads
- **Response Format:** JSON
- **Error Format:** Standardized error response with validation details

--- END OF SECTION 9 ---

## 10. SECURITY REQUIREMENTS

### 10.1 Authentication
- **Method:** JWT-based authentication with role-based access
- **Authorization:** Onboarding access based on user role and relationship
- **Session Management:** Secure session handling with timeout

### 10.2 Data Protection
- **Encryption:** Encrypted storage for sensitive documents
- **Privacy Controls:** GDPR compliance for employee information
- **Data Masking:** Sensitive information masking for unauthorized viewers

### 10.3 Access Control
- **Permissions:**
  - **HR Coordinator:** Full access to onboarding management
  - **Hiring Manager:** Access to team member onboarding
  - **IT Coordinator:** Access to IT-related tasks
  - **New Hire:** Access to own onboarding tasks and documents
- **Audit Trail:** Complete audit logging for all onboarding actions

--- END OF SECTION 10 ---

## 11. PERFORMANCE CONSIDERATIONS

### 11.1 Database Optimization
- **Indexing Strategy:** Optimized indexes on onboarding status and dates
- **Query Optimization:** Efficient onboarding data retrieval with joins
- **Connection Pooling:** Database connection management for high traffic

### 11.2 Caching Strategy
- **Cache Layers:** Redis for frequently accessed onboarding data
- **Cache Invalidation:** Smart cache invalidation on task updates
- **Performance Metrics:** Sub-500ms response time for onboarding operations

--- END OF SECTION 11 ---

## 12. TESTING REQUIREMENTS

### 12.1 Unit Tests
- **Coverage Target:** 85%
- **Test Framework:** pytest with Django test extensions
- **Test Data:** Factory Boy for comprehensive test data generation

### 12.2 Integration Tests
- **API Testing:** Complete API endpoint testing
- **File Upload Testing:** Document upload and processing testing
- **Workflow Testing:** End-to-end onboarding process validation

### 12.3 User Acceptance Tests
- **UAT Scenarios:** Complete onboarding workflows
- **Cross-browser Testing:** Compatibility across major browsers
- **Mobile Testing:** Responsive design validation

--- END OF SECTION 12 ---

## 13. DEPLOYMENT SPECIFICATIONS

### 13.1 Environment Requirements
- **Development:** Local development with file storage
- **Staging:** Full integration testing with external systems
- **Production:** Scalable cloud infrastructure with secure integrations

### 13.2 Configuration Management
- **Settings:** Environment-specific configuration
- **API Keys:** Secure management of third-party API credentials
- **Security Settings:** Production security hardening

--- END OF SECTION 13 ---

## 14. MAINTENANCE & SUPPORT

### 14.1 Regular Maintenance
- **Data Cleanup:** Regular cleanup of completed onboarding data
- **Performance Monitoring:** Onboarding process performance tracking
- **Security Updates:** Regular security patching

### 14.2 Support Procedures
- **User Support:** Help desk integration for onboarding issues
- **Documentation:** Comprehensive user guides and API documentation
- **Training:** Regular training sessions for HR coordinators and managers

--- END OF SECTION 14 ---

## 15. VERSION CONTROL

### 15.1 Version History
- **v1.0.0:** Initial release with basic onboarding functionality
- **v1.1.0:** Enhanced workflow automation and integrations
- **v1.2.0:** Advanced analytics and reporting features

### 15.2 Change Management
- **Release Process:** Structured release with rollback capability
- **Migration Scripts:** Database migration handling
- **Feature Flags:** Gradual feature rollout capability

--- END OF SECTION 15 ---

## 16. COMPLIANCE & AUDIT

### 16.1 Regulatory Compliance
- **I-9 Compliance:** Employment eligibility verification
- **EEO Compliance:** Equal Employment Opportunity adherence
- **GDPR:** Data privacy and employee rights compliance
- **Tax Compliance:** Proper tax form collection and processing

### 16.2 Audit Requirements
- **Audit Trail:** Complete change history logging
- **Document Retention:** Proper document retention policies
- **Access Logging:** Comprehensive access audit logging
- **Reporting:** Automated compliance reporting generation

--- END OF SECTION 16 ---

**END OF BBP TEMPLATE**
