# 1. MODULE IDENTIFICATION

**Module Name:** Screening
**Module Number:** 03.2
**Module Type:** Transaction
**Target File:** HR/03.Talent & Onboarding/03.2 Screening.md
**Created Date:** December 29, 2025
**Version:** 1.0
**Author:** HR System Architect

--- END OF SECTION 1 ---

## 2. PURPOSE

### 2.1 Business Purpose
The Screening module provides a comprehensive system for evaluating and screening job applications through automated and manual processes. It enables HR professionals to efficiently assess candidate qualifications, conduct background checks, verify credentials, and make informed screening decisions to identify the most suitable candidates for interview stages.

### 2.2 Business Scope
**In Scope:**
- Automated resume parsing and keyword matching
- Skills assessment and competency evaluation
- Experience validation and gap analysis
- Education and credential verification
- Employment history verification
- Background check integration (criminal, credit, reference)
- Drug testing coordination and results tracking
- Social media screening and online presence analysis
- Screening workflow management and approval processes
- Compliance tracking and audit trails
- Screening score calculation and ranking
- Disposition management and rejection handling

**Out of Scope:**
- Interview scheduling and coordination (handled in Interview Scheduling module)
- Offer management and negotiation (handled in Offer Management module)
- Onboarding process initiation (handled in New Hire Setup module)
- Final hiring decisions (handled by hiring managers)

### 2.3 Key Stakeholders
- **HR Recruiters:** Screening process management and decision making
- **Hiring Managers:** Candidate evaluation and screening approval
- **Background Check Providers:** Third-party verification services
- **Compliance Officers:** Regulatory compliance and audit oversight
- **Candidates:** Screening status updates and information requests
- **IT Department:** System integration and technical support

--- END OF SECTION 2 ---

## 3. CORE MODELS (DJANGO)

### 3.1 Primary Model: ScreeningProcess

```python
class ScreeningProcess(models.Model):
    """
    Main screening process model for tracking application screening
    """
    
    # Primary Key
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    
    # Foreign Keys
    company_id = models.UUIDField()
    application_id = models.UUIDField()
    job_posting_id = models.UUIDField()
    candidate_id = models.UUIDField()
    created_by_user_id = models.UUIDField()
    updated_by_user_id = models.UUIDField()
    
    # Screening Details
    screening_number = models.CharField(max_length=50)
    screening_date = models.DateTimeField(auto_now_add=True)
    screening_type = models.CharField(max_length=50, choices=[
        ('initial', 'Initial Screening'),
        ('technical', 'Technical Screening'),
        ('background', 'Background Check'),
        ('reference', 'Reference Check'),
        ('comprehensive', 'Comprehensive Screening'),
    ], default='initial')
    
    # Screening Status
    status = models.CharField(max_length=50, choices=[
        ('initiated', 'Initiated'),
        ('in_progress', 'In Progress'),
        ('pending_verification', 'Pending Verification'),
        ('completed', 'Completed'),
        ('on_hold', 'On Hold'),
        ('failed', 'Failed'),
        ('passed', 'Passed'),
        ('rejected', 'Rejected'),
    ], default='initiated')
    
    # Screening Results
    overall_score = models.IntegerField(null=True, blank=True)
    max_score = models.IntegerField(default=100)
    screening_decision = models.CharField(max_length=50, choices=[
        ('pass', 'Pass'),
        ('fail', 'Fail'),
        ('conditional', 'Conditional Pass'),
        ('pending', 'Pending Review'),
    ], blank=True)
    
    # Priority and Timeline
    priority = models.CharField(max_length=20, choices=[
        ('low', 'Low'),
        ('medium', 'Medium'),
        ('high', 'High'),
        ('urgent', 'Urgent'),
    ], default='medium')
    target_completion_date = models.DateField(null=True, blank=True)
    actual_completion_date = models.DateField(null=True, blank=True)
    
    # Screening Team
    primary_screener_id = models.UUIDField(null=True, blank=True)
    secondary_screener_id = models.UUIDField(null=True, blank=True)
    final_approver_id = models.UUIDField(null=True, blank=True)
    
    # Compliance and Audit
    compliance_notes = models.TextField(blank=True)
    audit_required = models.BooleanField(default=False)
    audit_completed = models.BooleanField(default=False)
    
    # Audit Fields
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    class Meta:
        db_table = 'hr_screening_processes'
        verbose_name = 'Screening Process'
        verbose_name_plural = 'Screening Processes'
        indexes = [
            models.Index(fields=['company_id', 'application_id'], name='idx_screening_app'),
            models.Index(fields=['company_id', 'status'], name='idx_screening_status'),
            models.Index(fields=['company_id', 'screening_date'], name='idx_screening_date'),
        ]
        constraints = [
            models.UniqueConstraint(fields=['company_id', 'screening_number'], name='uk_screening_number'),
        ]
```

### 3.2 Supporting Model: ScreeningCriteria

```python
class ScreeningCriteria(models.Model):
    """
    Screening criteria and evaluation parameters
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = models.UUIDField()
    screening_process_id = models.UUIDField()
    
    # Criteria Details
    criteria_name = models.CharField(max_length=200)
    criteria_type = models.CharField(max_length=50, choices=[
        ('skill', 'Skill Assessment'),
        ('experience', 'Experience Validation'),
        ('education', 'Education Verification'),
        ('certification', 'Certification Check'),
        ('background', 'Background Check'),
        ('reference', 'Reference Check'),
        ('legal', 'Legal Compliance'),
        ('custom', 'Custom Criteria'),
    ])
    
    # Scoring
    weight = models.DecimalField(max_digits=5, decimal_places=2, default=1.0)
    max_points = models.IntegerField(default=10)
    awarded_points = models.IntegerField(null=True, blank=True)
    score_percentage = models.DecimalField(max_digits=5, decimal_places=2, null=True, blank=True)
    
    # Evaluation Details
    evaluation_method = models.CharField(max_length=50, choices=[
        ('automated', 'Automated'),
        ('manual', 'Manual'),
        ('hybrid', 'Hybrid'),
    ], default='manual')
    
    # Results
    result = models.CharField(max_length=50, choices=[
        ('pass', 'Pass'),
        ('fail', 'Fail'),
        ('partial', 'Partial'),
        ('pending', 'Pending'),
        ('not_applicable', 'Not Applicable'),
    ], blank=True)
    
    notes = models.TextField(blank=True)
    evaluator_id = models.UUIDField(null=True, blank=True)
    evaluation_date = models.DateTimeField(null=True, blank=True)
    
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    class Meta:
        db_table = 'hr_screening_criteria'
        verbose_name = 'Screening Criteria'
        verbose_name_plural = 'Screening Criteria'
        indexes = [
            models.Index(fields=['company_id', 'screening_process_id'], name='idx_criteria_process'),
            models.Index(fields=['company_id', 'criteria_type'], name='idx_criteria_type'),
        ]
```

### 3.3 Supporting Model: BackgroundCheck

```python
class BackgroundCheck(models.Model):
    """
    Background check details and results
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = models.UUIDField()
    screening_process_id = models.UUIDField()
    candidate_id = models.UUIDField()
    
    # Check Details
    check_type = models.CharField(max_length=50, choices=[
        ('criminal', 'Criminal Record'),
        ('credit', 'Credit History'),
        ('employment', 'Employment Verification'),
        ('education', 'Education Verification'),
        ('reference', 'Reference Check'),
        ('drug_test', 'Drug Test'),
        ('motor_vehicle', 'Motor Vehicle Record'),
        ('professional_license', 'Professional License'),
        ('social_media', 'Social Media Screening'),
    ])
    
    # Provider Information
    provider_name = models.CharField(max_length=200)
    provider_reference = models.CharField(max_length=100, blank=True)
    provider_contact = models.CharField(max_length=200, blank=True)
    
    # Status and Timeline
    status = models.CharField(max_length=50, choices=[
        ('requested', 'Requested'),
        ('in_progress', 'In Progress'),
        ('completed', 'Completed'),
        ('failed', 'Failed'),
        ('cancelled', 'Cancelled'),
        ('expedited', 'Expedited'),
    ], default='requested')
    
    request_date = models.DateTimeField(auto_now_add=True)
    completion_date = models.DateTimeField(null=True, blank=True)
    expected_completion_date = models.DateTimeField(null=True, blank=True)
    
    # Results
    check_result = models.CharField(max_length=50, choices=[
        ('clear', 'Clear'),
        ('caution', 'Caution'),
        ('adverse', 'Adverse'),
        ('pending', 'Pending'),
        ('unable_to_complete', 'Unable to Complete'),
    ], blank=True)
    
    result_details = models.TextField(blank=True)
    adverse_action_required = models.BooleanField(default=False)
    adverse_action_reason = models.TextField(blank=True)
    
    # Documents
    consent_form_url = models.URLField(blank=True)
    report_url = models.URLField(blank=True)
    supporting_documents = models.JSONField(default=list, blank=True)
    
    # Cost and Billing
    check_cost = models.DecimalField(max_digits=10, decimal_places=2, null=True, blank=True)
    cost_center = models.CharField(max_length=100, blank=True)
    billed_to_company = models.BooleanField(default=True)
    
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    class Meta:
        db_table = 'hr_background_checks'
        verbose_name = 'Background Check'
        verbose_name_plural = 'Background Checks'
        indexes = [
            models.Index(fields=['company_id', 'screening_process_id'], name='idx_bg_process'),
            models.Index(fields=['company_id', 'status'], name='idx_bg_status'),
            models.Index(fields=['company_id', 'check_type'], name='idx_bg_type'),
        ]
```

--- END OF SECTION 3 ---

## 4. REFERENCE MODELS (DJANGO)

### 4.1 ScreeningTemplate

```python
class ScreeningTemplate(models.Model):
    """
    Reusable screening templates for different job types
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = models.UUIDField()
    template_name = models.CharField(max_length=200)
    job_category = models.CharField(max_length=100)
    description = models.TextField(blank=True)
    criteria_config = models.JSONField(default=dict)
    is_active = models.BooleanField(default=True)
    
    class Meta:
        db_table = 'hr_screening_templates'
        verbose_name = 'Screening Template'
        verbose_name_plural = 'Screening Templates'
```

### 4.2 BackgroundCheckProvider

```python
class BackgroundCheckProvider(models.Model):
    """
    Background check service providers
    """
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    company_id = models.UUIDField()
    provider_name = models.CharField(max_length=200)
    contact_email = models.EmailField()
    contact_phone = models.CharField(max_length=50)
    api_endpoint = models.URLField(blank=True)
    api_key = models.CharField(max_length=200, blank=True)
    supported_checks = models.JSONField(default=list)
    is_active = models.BooleanField(default=True)
    
    class Meta:
        db_table = 'hr_bg_check_providers'
        verbose_name = 'Background Check Provider'
        verbose_name_plural = 'Background Check Providers'
```

--- END OF SECTION 4 ---

## 5. FOREIGN KEY RELATIONSHIPS

### 5.1 Primary Relationships
- **ScreeningProcess** → **JobApplication**: Screening for specific application
- **ScreeningProcess** → **JobPosting**: Job requirements context
- **ScreeningProcess** → **Candidate**: Candidate being screened
- **ScreeningCriteria** → **ScreeningProcess**: Criteria belongs to screening process
- **BackgroundCheck** → **ScreeningProcess**: Background check part of screening

### 5.2 Many-to-Many Relationships
- **ScreeningProcess** ↔ **ScreeningCriteria**: One-to-many relationship
- **ScreeningProcess** ↔ **BackgroundCheck**: One-to-many relationship

--- END OF SECTION 5 ---

## 6. BUSINESS RULES & VALIDATIONS

### 6.1 Data Integrity Rules
- Screening numbers must be unique within company
- Overall score cannot exceed maximum score
- Background checks require candidate consent
- Screening decisions must be documented with justification
- Adverse action requires proper notification process

### 6.2 Validation Logic
```python
def clean_overall_score(self):
    """
    Validate overall score is within valid range
    """
    if self.overall_score is not None and self.overall_score > self.max_score:
        raise ValidationError("Overall score cannot exceed maximum score")

def clean_screening_decision(self):
    """
    Ensure screening decision is consistent with status
    """
    if self.status == 'completed' and not self.screening_decision:
        raise ValidationError("Screening decision is required when status is completed")

def clean_target_completion_date(self):
    """
    Validate target completion date is in the future
    """
    if self.target_completion_date and self.target_completion_date < timezone.now().date():
        raise ValidationError("Target completion date cannot be in the past")
```

### 6.3 Business Constraints
- Maximum screening duration: 30 days
- Minimum background check turnaround: 24 hours
- Adverse action notification period: 5 business days
- Screening result retention: 7 years

--- END OF SECTION 6 ---

## 7. UI/UX SPECIFICATIONS

### 7.1 User Interface Requirements
- **Layout:** Dashboard with screening queue and detailed views
- **Navigation:** Tabbed interface for different screening stages
- **Responsiveness:** Mobile-optimized for on-the-go screening
- **Views:** Recruiter view, Manager view, Compliance view

### 7.2 User Experience Design
- **User Flow:** Select application → Initiate screening → Evaluate criteria → Make decision → Communicate result
- **Error Handling:** Clear validation messages and error recovery
- **Loading States:** Progress indicators for background checks
- **Bulk Actions:** Mass screening operations for high-volume recruitment

### 7.3 Accessibility Standards
- **WCAG Compliance:** WCAG 2.1 AA
- **Keyboard Navigation:** Full keyboard accessibility
- **Screen Reader Support:** Proper ARIA labels and semantic HTML

### 7.4 Visual Design System
- **Color Scheme:** Status-based color coding (green for pass, red for fail)
- **Typography:** Clear, readable fonts for detailed information
- **Iconography:** Intuitive icons for screening actions and statuses

--- END OF SECTION 7 ---

## 8. INTEGRATION POINTS

### 8.1 External Systems
- **Background Check Providers:** Checkr, HireRight, Sterling APIs
- **Assessment Platforms:** Criteria, Codility, HackerRank integrations
- **Social Media APIs:** LinkedIn, Twitter for online screening
- **Credit Bureaus:** Experian, Equifax, TransUnion for credit checks
- **Government Databases:** Criminal record and verification services

### 8.2 Internal APIs
- **Application Capture API:** Application data and documents
- **Candidate Management API:** Candidate profile and history
- **Interview Scheduling API:** Schedule qualified candidates
- **Communication API:** Automated notifications and updates
- **Compliance API:** Regulatory reporting and audit trails

--- END OF SECTION 8 ---

## 9. API SPECIFICATIONS

### 9.1 REST Endpoints

#### **GET /api/screening-processes/**
- **Purpose:** Retrieve screening processes list
- **Authentication:** JWT token required
- **Parameters:** 
  - `application_id` (UUID): Filter by application
  - `status` (string): Filter by screening status
  - `screening_type` (string): Filter by screening type
- **Response:** Paginated list of screening processes

#### **POST /api/screening-processes/**
- **Purpose:** Initiate new screening process
- **Authentication:** JWT token required
- **Request Body:** Screening process configuration
- **Response:** Created screening process object

#### **GET /api/screening-processes/{screening_id}/**
- **Purpose:** Retrieve specific screening process details
- **Authentication:** JWT token required
- **Parameters:** `screening_id` (UUID)
- **Response:** Complete screening process with criteria and results

#### **PUT /api/screening-processes/{screening_id}/**
- **Purpose:** Update screening process or decision
- **Authentication:** JWT token with appropriate permissions
- **Request Body:** Updated screening data
- **Response:** Updated screening process object

#### **POST /api/screening-processes/{screening_id}/background-checks/**
- **Purpose:** Initiate background check
- **Authentication:** JWT token required
- **Request Body:** Background check configuration
- **Response:** Created background check object

#### **GET /api/screening-processes/{screening_id}/score/**
- **Purpose:** Calculate screening score
- **Authentication:** JWT token required
- **Response:** Calculated score and breakdown

### 9.2 Data Formats
- **Request Format:** JSON
- **Response Format:** JSON
- **Error Format:** Standardized error response with validation details

--- END OF SECTION 9 ---

## 10. SECURITY REQUIREMENTS

### 10.1 Authentication
- **Method:** JWT-based authentication with role-based access
- **Authorization:** Screening access based on user role and permissions
- **Session Management:** Secure session handling with timeout

### 10.2 Data Protection
- **Encryption:** Encrypted storage for sensitive screening data
- **Privacy Controls:** GDPR and FCRA compliance
- **Data Masking:** Sensitive information masking for unauthorized viewers

### 10.3 Access Control
- **Permissions:**
  - **Recruiter:** Full access to assigned screenings
  - **Hiring Manager:** View access to screening results
  - **HR Admin:** Full access to all screening processes
  - **Compliance Officer:** Read-only access for audit purposes
- **Audit Trail:** Complete audit logging for all screening actions

--- END OF SECTION 10 ---

## 11. PERFORMANCE CONSIDERATIONS

### 11.1 Database Optimization
- **Indexing Strategy:** Optimized indexes on screening status and dates
- **Query Optimization:** Efficient screening data retrieval
- **Connection Pooling:** Database connection management

### 11.2 Caching Strategy
- **Cache Layers:** Redis for frequently accessed screening data
- **Cache Invalidation:** Smart cache invalidation on updates
- **Performance Metrics:** Sub-300ms response time for screening operations

--- END OF SECTION 11 ---

## 12. TESTING REQUIREMENTS

### 12.1 Unit Tests
- **Coverage Target:** 85%
- **Test Framework:** pytest with Django test extensions
- **Test Data:** Factory Boy for comprehensive test data generation

### 12.2 Integration Tests
- **API Testing:** Complete API endpoint testing
- **Background Check Testing:** Third-party integration validation
- **Scoring Logic Testing:** Score calculation accuracy validation

### 12.3 User Acceptance Tests
- **UAT Scenarios:** Complete screening workflows
- **Compliance Testing:** Regulatory compliance validation
- **Performance Testing:** Load testing for high-volume screening

--- END OF SECTION 12 ---

## 13. DEPLOYMENT SPECIFICATIONS

### 13.1 Environment Requirements
- **Development:** Local development with mock background check APIs
- **Staging:** Full integration testing with background check providers
- **Production:** Scalable cloud infrastructure with secure API connections

### 13.2 Configuration Management
- **Settings:** Environment-specific configuration
- **API Keys:** Secure management of third-party API credentials
- **Security Settings:** Production security hardening

--- END OF SECTION 13 ---

## 14. MAINTENANCE & SUPPORT

### 14.1 Regular Maintenance
- **Data Cleanup:** Regular cleanup of completed screening data
- **Performance Monitoring:** Screening process performance tracking
- **Security Updates:** Regular security patching

### 14.2 Support Procedures
- **User Support:** Help desk integration for screening issues
- **Documentation:** Comprehensive user guides and API documentation
- **Training:** Regular training sessions for recruiters and compliance staff

--- END OF SECTION 14 ---

## 15. VERSION CONTROL

### 15.1 Version History
- **v1.0.0:** Initial release with basic screening functionality
- **v1.1.0:** Enhanced background check integrations
- **v1.2.0:** Advanced scoring and automation features

### 15.2 Change Management
- **Release Process:** Structured release with rollback capability
- **Migration Scripts:** Database migration handling
- **Feature Flags:** Gradual feature rollout capability

--- END OF SECTION 15 ---

## 16. COMPLIANCE & AUDIT

### 16.1 Regulatory Compliance
- **FCRA Compliance:** Fair Credit Reporting Act adherence
- **EEO Compliance:** Equal Employment Opportunity compliance
- **GDPR:** Data privacy and candidate rights compliance
- **Ban the Box:** Fair chance hiring compliance

### 16.2 Audit Requirements
- **Audit Trail:** Complete change history logging
- **Consent Management:** Digital consent tracking and storage
- **Adverse Action:** Proper adverse action process documentation
- **Reporting:** Automated compliance reporting generation

--- END OF SECTION 16 ---

**END OF BBP TEMPLATE**
